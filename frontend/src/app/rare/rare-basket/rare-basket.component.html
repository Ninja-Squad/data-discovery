<div class="basket-counter navbar-text" *ngIf="itemCounter === 0; else navbarButton">
  <span class="fa fa-fw fa-shopping-basket"></span>&ngsp;
  <span class="badge badge-pill badge-light">0</span>
</div>
<ng-template #navbarButton>
  <button
    class="basket-counter btn"
    ngbTooltip="Click to view the {{ itemCounter | i18nPlural: itemMessageMapping }}"
    (click)="viewItems(basketModal)"
  >
    <span class="fa fa-fw fa-shopping-basket"></span>&ngsp;
    <span class="badge badge-pill badge-light">{{ itemCounter | number }}</span>
  </button>
</ng-template>

<ng-template #basketModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-title">Basket summary</h4>
    <button type="button" class="btn close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ng-container *ngIf="basket.items.length > 0; else emptyBasket">
      <div *ngFor="let item of basket.items" class="d-flex">
        <span class="flex-grow-1">{{ item.accession }}</span
        >&ngsp;
        <button type="button" class="btn btn-outline-danger delete-btn" (click)="removeItemFromBasket(item.identifier)">
          <span class="fa fa-fw fa-trash"></span>
        </button>
      </div>
    </ng-container>
    <ng-template #emptyBasket>
      <p>Aucune accession</p>
    </ng-template>
  </div>
  <div class="modal-footer" *ngIf="basket.items.length > 0">
    <button type="button" id="send-basket" class="btn btn-outline-dark" (click)="modal.close('order')">Terminer ma demande</button>
  </div>
</ng-template>
