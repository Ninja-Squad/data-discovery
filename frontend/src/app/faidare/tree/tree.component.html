@if (tree$ | async; as tree) {
  <ul class="list-unstyled">
    @for (node of tree.rootNodes; track node.id) {
      @if (!tree.filtered || node.matchingFilter || node.hasVisibleChildren) {
        <li>
          <dd-node
            [node]="node"
            [filtered]="tree.filtered"
            [highlightedNodeId]="tree.highlightedNode?.id"
            [payloadTemplate]="payloadTemplate"
          />
        </li>
      }
    }
  </ul>
}
